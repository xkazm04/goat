# Refactoring Batch 6 of 6

> **ðŸ“‹ REFACTORING REQUIREMENT FILE**
> Project: GOAT
> Issues in this batch: 17
> Generated by Vibeman RefactorWizard

---

## Overview

This batch contains **17 refactoring opportunities** to address.
Please work through each issue systematically, ensuring tests pass after each change.

### Summary

**By Category:**
- duplication: 6
- maintainability: 11

**By Severity:**
- medium: 11
- high: 6

---

## Issues to Address

### 1. Code duplication in src/app/features/matching/lib/demo-content.tsx

**Category**: duplication | **Severity**: medium | **Effort**: medium

**Description**:
Found 17 duplicated code blocks that could be extracted into reusable functions.

**Impact**:
Reduces code duplication and improves maintainability

**Files Affected**:
- `src/app/features/matching/lib/demo-content.tsx`

âœ… **Auto-fix available**

---

### 2. Magic numbers in src/app/features/matching/lib/demo-content.tsx

**Category**: maintainability | **Severity**: high | **Effort**: medium

**Description**:
Found 32 magic numbers that should be extracted to named constants.

**Impact**:
Improves code maintainability and clarity

**Files Affected**:
- `src/app/features/matching/lib/demo-content.tsx`

**Line Numbers**:
- src/app/features/matching/lib/demo-content.tsx: lines 20, 26, 32, 47, 47, 47, 47, 49, 49, 50, 50, 50, 50, 57, 59, 59, 61, 62, 62, 62, 62, 62, 62, 65, 65, 65, 65, 65, 65, 70, 73, 75

âœ… **Auto-fix available**

---

### 3. Large file detected: src/app/features/matching/components/SwipeableCard.tsx

**Category**: maintainability | **Severity**: medium | **Effort**: high

**Description**:
This file has 443 lines. Consider splitting it into smaller, more focused modules. Target: Keep files under 200 lines for better maintainability.

**Impact**:
Improves code organization, readability, and maintainability

**Files Affected**:
- `src/app/features/matching/components/SwipeableCard.tsx`

---

### 4. Large file detected: src/app/features/Match/sub_MatchCollections/MatchGridTutorial.tsx

**Category**: maintainability | **Severity**: high | **Effort**: high

**Description**:
This file has 534 lines. Consider splitting it into smaller, more focused modules. Target: Keep files under 200 lines for better maintainability.

**Impact**:
Improves code organization, readability, and maintainability

**Files Affected**:
- `src/app/features/Match/sub_MatchCollections/MatchGridTutorial.tsx`

---

### 5. Large file detected: src/app/features/Collection/components/CollectionPanel.tsx

**Category**: maintainability | **Severity**: high | **Effort**: high

**Description**:
This file has 514 lines. Consider splitting it into smaller, more focused modules. Target: Keep files under 200 lines for better maintainability.

**Impact**:
Improves code organization, readability, and maintainability

**Files Affected**:
- `src/app/features/Collection/components/CollectionPanel.tsx`

---

### 6. Large file detected: src/app/features/Collection/components/AddItemModal.tsx

**Category**: maintainability | **Severity**: medium | **Effort**: high

**Description**:
This file has 405 lines. Consider splitting it into smaller, more focused modules. Target: Keep files under 200 lines for better maintainability.

**Impact**:
Improves code organization, readability, and maintainability

**Files Affected**:
- `src/app/features/Collection/components/AddItemModal.tsx`

---

### 7. Code duplication in scripts/log-unused-cleanup-batch2.js

**Category**: duplication | **Severity**: medium | **Effort**: medium

**Description**:
Found 7 duplicated code blocks that could be extracted into reusable functions.

**Impact**:
Reduces code duplication and improves maintainability

**Files Affected**:
- `scripts/log-unused-cleanup-batch2.js`

âœ… **Auto-fix available**

---

### 8. Code duplication in scripts/log-implementation.js

**Category**: duplication | **Severity**: medium | **Effort**: medium

**Description**:
Found 5 duplicated code blocks that could be extracted into reusable functions.

**Impact**:
Reduces code duplication and improves maintainability

**Files Affected**:
- `scripts/log-implementation.js`

âœ… **Auto-fix available**

---

### 9. Magic numbers in scripts/log-implementation.js

**Category**: maintainability | **Severity**: high | **Effort**: medium

**Description**:
Found 21 magic numbers that should be extracted to named constants. Suggested names: PORT, PORT

**Impact**:
Improves code maintainability and clarity

**Files Affected**:
- `scripts/log-implementation.js`

**Line Numbers**:
- scripts/log-implementation.js: lines 8, 8, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 30

âœ… **Auto-fix available**

---

### 10. Magic numbers in scripts/log-fix-match-errors.js

**Category**: maintainability | **Severity**: high | **Effort**: low

**Description**:
Found 6 magic numbers that should be extracted to named constants. Suggested names: PORT

**Impact**:
Improves code maintainability and clarity

**Files Affected**:
- `scripts/log-fix-match-errors.js`

**Line Numbers**:
- scripts/log-fix-match-errors.js: lines 9, 9, 12, 12, 12, 12

âœ… **Auto-fix available**

---

### 11. Code duplication in src/lib/hooks/useLoadingStateMachine.test-scenarios.md

**Category**: duplication | **Severity**: medium | **Effort**: medium

**Description**:
Found 4 duplicated code blocks that could be extracted into reusable functions.

**Impact**:
Reduces code duplication and improves maintainability

**Files Affected**:
- `src/lib/hooks/useLoadingStateMachine.test-scenarios.md`

âœ… **Auto-fix available**

---

### 12. Magic numbers in src/lib/hooks/useLoadingStateMachine.test-scenarios.md

**Category**: maintainability | **Severity**: medium | **Effort**: medium

**Description**:
Found 87 magic numbers that should be extracted to named constants. Suggested names: HTTP_STATUS_404, HTTP_STATUS_404, HTTP_STATUS_500

**Impact**:
Improves code maintainability and clarity

**Files Affected**:
- `src/lib/hooks/useLoadingStateMachine.test-scenarios.md`

**Line Numbers**:
- src/lib/hooks/useLoadingStateMachine.test-scenarios.md: lines 21, 22, 23, 36, 37, 38, 39, 43, 43, 47, 55, 55, 56, 57, 59, 59, 63, 70, 71, 73, 73, 77, 81, 81, 85, 89, 89, 93, 97, 99, 99, 103, 109, 111, 112, 113, 115, 115, 119, 123, 123, 127, 131, 131, 135, 138, 140, 151, 152, 153, 155, 157, 161, 162, 163, 165, 169, 170, 171, 173, 177, 178, 180, 182, 186, 187, 188, 190, 192, 196, 197, 198, 199, 200, 202, 206, 208, 210, 218, 225, 248, 250, 257, 260, 291, 292, 293

âœ… **Auto-fix available**

---

### 13. Large file detected: src/lib/hooks/README.md

**Category**: maintainability | **Severity**: medium | **Effort**: high

**Description**:
This file has 494 lines. Consider splitting it into smaller, more focused modules. Target: Keep files under 200 lines for better maintainability.

**Impact**:
Improves code organization, readability, and maintainability

**Files Affected**:
- `src/lib/hooks/README.md`

---

### 14. Code duplication in src/components/ui/stats-card.README.md

**Category**: duplication | **Severity**: medium | **Effort**: medium

**Description**:
Found 4 duplicated code blocks that could be extracted into reusable functions.

**Impact**:
Reduces code duplication and improves maintainability

**Files Affected**:
- `src/components/ui/stats-card.README.md`

âœ… **Auto-fix available**

---

### 15. Magic numbers in src/components/ui/stats-card.README.md

**Category**: maintainability | **Severity**: medium | **Effort**: medium

**Description**:
Found 58 magic numbers that should be extracted to named constants.

**Impact**:
Improves code maintainability and clarity

**Files Affected**:
- `src/components/ui/stats-card.README.md`

**Line Numbers**:
- src/components/ui/stats-card.README.md: lines 31, 31, 32, 32, 43, 44, 44, 47, 56, 57, 57, 58, 58, 70, 71, 87, 88, 88, 88, 88, 88, 107, 114, 115, 116, 117, 118, 119, 120, 135, 136, 136, 137, 143, 143, 144, 144, 145, 150, 151, 151, 154, 158, 168, 179, 193, 193, 193, 193, 193, 193, 193, 194, 204, 206, 207, 216, 239

âœ… **Auto-fix available**

---

### 16. Code duplication in src/components/ui/stats-card.quickref.md

**Category**: duplication | **Severity**: medium | **Effort**: medium

**Description**:
Found 5 duplicated code blocks that could be extracted into reusable functions.

**Impact**:
Reduces code duplication and improves maintainability

**Files Affected**:
- `src/components/ui/stats-card.quickref.md`

âœ… **Auto-fix available**

---

### 17. Magic numbers in src/components/ui/stats-card.quickref.md

**Category**: maintainability | **Severity**: high | **Effort**: medium

**Description**:
Found 39 magic numbers that should be extracted to named constants.

**Impact**:
Improves code maintainability and clarity

**Files Affected**:
- `src/components/ui/stats-card.quickref.md`

**Line Numbers**:
- src/components/ui/stats-card.quickref.md: lines 13, 13, 25, 25, 25, 25, 25, 34, 34, 35, 35, 36, 37, 39, 51, 76, 76, 89, 101, 119, 119, 120, 128, 129, 130, 131, 132, 133, 134, 147, 147, 148, 148, 149, 155, 156, 156, 157, 159

âœ… **Auto-fix available**

---

## Validation Checklist

- [ ] All 17 issues addressed
- [ ] Tests passing (`npm test`)
- [ ] Type checking passing (`npx tsc --noEmit`)
- [ ] No new linting errors
- [ ] Changes committed with descriptive messages

---

**Batch**: 6 of 6
**Total Issues**: 17
