You are an expert software engineer. Execute the following requirement immediately. Do not ask questions, do not wait for confirmation. Read the requirement carefully and implement all changes to the codebase as specified.

REQUIREMENT TO EXECUTE NOW:

# Bouncing Dice Loader

## Metadata
- **Category**: ui
- **Effort**: Medium (2/3)
- **Impact**: Medium (2/3)
- **Scan Type**: delight_designer
- **Generated**: 11/23/2025, 11:25:48 AM

## Description
Replace the plain spinner in MatchLoadingState with a row of animated dice that roll while data loads. Use Framer Motion to rotate each die 360Â° and pulse its scale for a lively effect. The loader fits the ranking theme and gives users visual feedback that the system is working.

## Reasoning
A thematic loader keeps users engaged during wait times, reducing perceived latency. The animation is lightweight and enhances brand personality without impacting performance.

## Context

**Note**: This section provides supporting architectural documentation and is NOT a hard requirement. Use it as guidance to understand existing code structure and maintain consistency.

### Context: Match - UI Components & States

**Description**: ## Overview
The UI Components & States system provides all supporting UI elements, modals, indicators, state components, and result generation features for the Match experience. This includes loading states, error handling, comparison modals, quick assign modals, feature indicators, result image generation, and social sharing integration. These components enhance the user experience with visual feedback, error resilience, and sharing capabilities.

## Key Capabilities
- State Management Components: Loading states, error boundaries, no-list states, and home navigation for different app states
- Modal System: ComparisonModal for item-vs-item decisions, QuickAssignModal for keyboard-driven position selection
- Visual Indicators: FeatureModuleIndicator for debugging, DragDistanceIndicator for drag feedback
- Result Generation: ResultImageGenerator and ResultImageDownload for creating shareable list images
- Social Sharing: Integration with social platforms (Twitter, Reddit, etc.) via socialShareIntegration
- Container Components: MatchContainerContent, MatchContainerHeader, MatchContainerMobile for responsive layouts

## Architecture

### Component Breakdown
| Component/File | Purpose | Layer |
|----------------|---------|-------|
| "src/app/features/Match/MatchStates/MatchLoadingState.tsx" | Loading spinner and skeleton UI during data fetch | UI |
| "src/app/features/Match/MatchStates/MatchErrorState.tsx" | Error display with retry and home navigation | UI |
| "src/app/features/Match/MatchStates/MatchNoListState.tsx" | Empty state when no list is selected | UI |
| "src/app/features/Match/MatchStates/MatchHomeNavigation.tsx" | Home navigation component | UI |
| "src/app/features/Match/MatchStates/index.ts" | Barrel export for state components | Service |
| "src/app/features/Match/ComparisonModal.tsx" | Modal for comparing two items side-by-side | UI |
| "src/app/features/Match/components/QuickAssignModal.tsx" | Keyboard-driven position assignment modal | UI |
| "src/app/features/Match/components/FeatureModuleIndicator.tsx" | Debug indicator showing active modules | UI |
| "src/app/features/Match/components/DragDistanceIndicator.tsx" | Visual feedback for drag distance and target | UI |
| "src/app/features/Match/components/ResultImageGenerator.tsx" | Generates result images for sharing | Service |
| "src/app/features/Match/components/ResultImageDownload.tsx" | Download button for result images | UI |
| "src/app/features/Match/components/MatchContainerContent.tsx" | Main content area container | UI |
| "src/app/features/Match/components/MatchContainerHeader.tsx" | Header with list title and actions | UI |
| "src/app/features/Match/components/MatchContainerMobile.tsx" | Mobile-optimized container layout | UI |
| "src/app/features/Match/components/LoadingErrorBoundary.tsx" | Error boundary wrapper for graceful failures | UI |
| "src/app/features/Match/lib/index.ts" | Barrel export for Match lib utilities | Service |
| "src/app/features/Match/lib/resultCache.ts" | Caching layer for generated result images | Service |
| "src/app/features/Match/lib/resultImagePrompt.ts" | Prompt generation for AI-based result images | Service |
| "src/app/features/Match/lib/socialShareIntegration.ts" | Social media sharing integration | Service |

### Data Flow
1. MatchContainer renders MatchContainerContent as main UI
2. LoadingErrorBoundary wraps components to catch errors
3. If loading: MatchLoadingState displays
4. If error: MatchErrorState displays with retry option
5. If no list: MatchNoListState displays
6. User completes grid, clicks share button
7. ResultImageGenerator creates image from grid data
8. resultCache stores generated image
9. socialShareIntegration opens share modal for platforms
10. User downloads via ResultImageDownload

### Key Dependencies
- External: framer-motion (animations), lucide-react (icons), html2canvas (image generation)
- Internal: match-store (showResultShareModal), item-store (gridItems), list-store (currentList), API client (result image endpoint)

## Technical Details

### State Management
Components use local state for UI (modal visibility, loading states) and subscribe to global stores for data:
- match-store: showResultShareModal, setShowResultShareModal
- item-store: gridItems for result generation
- list-store: currentList for metadata

### API Endpoints
- POST /api/match/generate-result-image: Generates shareable result image from grid data
- Returns image URL for download and sharing

### Database Tables
Not applicable - this context handles UI and client-side result generation. Images may be stored in CDN/object storage but not directly in DB.
**Related Files**:
- `src/app/features/Match/MatchStates/MatchLoadingState.tsx`
- `src/app/features/Match/MatchStates/MatchErrorState.tsx`
- `src/app/features/Match/MatchStates/MatchNoListState.tsx`
- `src/app/features/Match/MatchStates/MatchHomeNavigation.tsx`
- `src/app/features/Match/MatchStates/index.ts`
- `src/app/features/Match/ComparisonModal.tsx`
- `src/app/features/Match/components/QuickAssignModal.tsx`
- `src/app/features/Match/components/FeatureModuleIndicator.tsx`
- `src/app/features/Match/components/DragDistanceIndicator.tsx`
- `src/app/features/Match/components/ResultImageGenerator.tsx`
- `src/app/features/Match/components/ResultImageDownload.tsx`
- `src/app/features/Match/components/MatchContainerContent.tsx`
- `src/app/features/Match/components/MatchContainerHeader.tsx`
- `src/app/features/Match/components/MatchContainerMobile.tsx`
- `src/app/features/Match/components/LoadingErrorBoundary.tsx`
- `src/app/features/Match/lib/index.ts`
- `src/app/features/Match/lib/resultCache.ts`
- `src/app/features/Match/lib/resultImagePrompt.ts`
- `src/app/features/Match/lib/socialShareIntegration.ts`

**Post-Implementation**: After completing this requirement, evaluate if the context description or file paths need updates. Use the appropriate API/DB query to update the context if architectural changes were made.

## Recommended Skills

- **compact-ui-design**: Use `.claude/skills/compact-ui-design.md` for high-quality UI design references and patterns

## Notes

This requirement was generated from an AI-evaluated project idea. No specific goal is associated with this idea.

IMPORTANT INSTRUCTIONS:
- Analyze the requirement thoroughly
- Identify all files that need to be modified or created
- Implement all changes specified in the requirement
- Follow the implementation steps precisely
- Create/modify files as needed
- Run any tests if specified
- Ensure all changes are complete before finishing

## File Structure Guidelines (Next.js/React Projects)

When creating new files in Next.js/React projects, follow this structure:

**Feature-Specific Files** (use `app/features/<feature>` structure):
- `app/features/<feature>/components/` - Feature-specific components and UI sections
- `app/features/<feature>/lib/` - Feature-specific functions, utilities, and logical helpers
- `app/features/<feature>/` - Main wrapper, index, or page file for the feature

**Reusable UI Components** (use `app/components/ui` structure):
- `app/components/ui/` - Shared, reusable UI elements used across multiple features

**Theming and Styling**:
- Before creating new UI components, examine existing components in the project
- Match the color scheme, spacing, and visual patterns of existing components
- Use consistent className patterns (Tailwind CSS classes)
- Follow the app's design language (glassmorphism, gradients, shadows, etc.)
- Pay attention to dark mode support if the app uses it

Examples:
- Feature component: `app/features/tasks/components/TaskCard.tsx`
- Feature helper: `app/features/tasks/lib/taskValidation.ts`
- Reusable UI: `app/components/ui/Button.tsx`

## Test Coverage Preparation

**IMPORTANT**: For all interactive UI components (buttons, inputs, forms, modals, etc.), add `data-testid` attributes to enable automated testing.

**Guidelines**:
- Add `data-testid` to all clickable elements (buttons, links, icons)
- Use descriptive, kebab-case naming: `data-testid="submit-form-btn"`
- Include component context in the ID: `data-testid="goal-delete-btn"`, `data-testid="project-settings-modal"`
- Add to form inputs: `data-testid="email-input"`, `data-testid="password-input"`
- Add to list items for testing selection: `data-testid="task-item-123"`

**Examples**:
```tsx
<button onClick={handleSubmit} data-testid="create-goal-btn">
  Create Goal
</button>

<input
  type="text"
  value={title}
  onChange={handleChange}
  data-testid="goal-title-input"
/>

<div className="modal" data-testid="delete-confirmation-modal">
  ...
</div>
```

## Implementation Logging

**CRITICAL**: After completing the implementation, create a log entry using the implementation-log repository to track what was implemented.

Project ID: `4ee93a8c-9318-4497-b7cf-05027e48f12b`


**Use the Implementation Log Repository** (located at `src/app/db/repositories/implementation-log.repository.ts`):

```typescript
import { implementationLogRepository } from '@/app/db/repositories/implementation-log.repository';
import { v4 as uuidv4 } from 'uuid';

// Create log entry
implementationLogRepository.createLog({
  id: uuidv4(),
  project_id: '4ee93a8c-9318-4497-b7cf-05027e48f12b',
  requirement_name: '<requirement-name>',
  title: '<short-descriptive-title>',
  overview: '<detailed-overview-of-changes>',
  overview_bullets: '<bullet1>\n<bullet2>\n<bullet3>\n<bullet4>',
  tested: false
});
```

**Log Entry Guidelines**:
- `id`: Generate a unique UUID using `uuidv4()` or `crypto.randomUUID()`
- `project_id`: The project identifier (use: "4ee93a8c-9318-4497-b7cf-05027e48f12b")
- `requirement_name`: Name of the requirement file being executed (without .md extension)
- `title`: Short, descriptive title (2-6 words, e.g., "Add User Authentication")
- `overview`: Detailed paragraph describing:
  - What was implemented
  - Key files created or modified
  - Major functionality added
  - Any important patterns or decisions made
- `overview_bullets`: **REQUIRED** - Newline-separated bullet points (3-5 bullet points) summarizing key changes. Format as plain text with each bullet on a new line:
  - First bullet point describing main change
  - Second bullet point describing another key change
  - Third bullet point describing implementation detail
  - (Optional) Fourth bullet point for additional context
  Example: "Implemented OAuth 2.0 with PKCE flow\nAdded session management with refresh tokens\nCreated unified auth context provider\nMigrated from cookies to secure HTTP-only tokens"
- `tested`: Always set to false initially

**Example Log Entry**:

```typescript
import { implementationLogRepository } from '@/app/db/repositories/implementation-log.repository';
import { v4 as uuidv4 } from 'uuid';

implementationLogRepository.createLog({
  id: uuidv4(),
  project_id: 'project-abc-123',
  requirement_name: 'implement-user-login',
  title: 'User Login System',
  overview: 'Implemented complete user authentication system with login form, JWT token management, and session persistence. Created LoginForm.tsx component, authService.ts for API calls, and useAuth hook for state management. Added protected route wrapper and login/logout functionality. Integrated with existing theme using glassmorphism design.',
  overview_bullets: 'Implemented OAuth 2.0 with PKCE flow
Added session management with refresh tokens
Created unified auth context provider
Integrated with existing glassmorphism theme',
  tested: false
});
```

**IMPORTANT**: Do NOT create standalone script files for logging. Use the repository directly in your implementation or create a simple inline script that imports and uses the repository




## Final Checklist

Before finishing:
- [ ] All code changes implemented
- [ ] Test IDs added to interactive components
- [ ] File structure follows guidelines
- [ ] UI components match existing theme
- [ ] Implementation log entry created in database
- [ ] Tests run successfully (if specified)

Begin implementation now.