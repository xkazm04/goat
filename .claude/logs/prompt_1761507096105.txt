You are an expert software engineer. Execute the following requirement immediately. Do not ask questions, do not wait for confirmation. Read the requirement carefully and implement all changes to the codebase as specified.

REQUIREMENT TO EXECUTE NOW:

# refactor-match-page-state-machine-integration

## Description

Integrate the new loading state machine throughout match/page.tsx by refactoring all data fetching logic (list loading, backlog loading, item fetching) to use the unified state machine and remove all old boolean state variables. Ensure all API calls from src/lib/api/item-groups.ts are properly sequenced through state transitions and that the UI correctly reflects the current state.

## Implementation Steps

1. In src/app/match/page.tsx, identify all useEffect hooks that manage listLoading, fetchLoading, isBacklogLoading and consolidate them into a single orchestrating effect that dispatches state machine actions
2. Replace all direct API calls with dispatch actions: when calling itemGroupsApi.list(), dispatch START_LIST_LOAD, on success dispatch SET_SUCCESS, on error dispatch SET_ERROR with categorized error
3. Refactor the data fetching sequence: ensure list loads first (START_LIST_LOAD), then fetch (START_FETCH_LOAD), then backlog (START_BACKLOG_LOAD), using the state machine to enforce this order
4. Remove all useState declarations for listLoading, fetchLoading, isBacklogLoading - replace with single useReducer for loading state machine
5. Update all conditional rendering: replace {listLoading && <Skeleton />} with {state.state === 'LOADING_LIST' && <Skeleton />}, or use isLoadingState(state.state) helper for multi-state checks
6. Add a debug mode (optional console output) that logs all state transitions for development: 'IDLE → LOADING_LIST → LOADING_FETCH → SUCCESS'
7. Test the complete flow: verify state transitions match expected sequence, error states are properly caught and displayed, and UI updates correctly at each stage

## Files to Modify

- src/app/match/page.tsx
- src/lib/hooks/useLoadingStateMachine.ts

## UI/UX Innovation Experiment

Add a subtle state transition timeline visualization in the page header that shows the current loading phase with animated step indicators (e.g., 'Loading items → Fetching details → Loading backlog → Ready'), with each step highlighting as it completes, providing clear visual feedback of progress through the loading sequence

## Recommended Next Goal

Create a shared loading state machine pattern documentation/example so other pages in the app can adopt the same pattern, potentially extracting it into a reusable context provider for app-wide state machine management



IMPORTANT INSTRUCTIONS:
- Analyze the requirement thoroughly
- Identify all files that need to be modified or created
- Implement all changes specified in the requirement
- Follow the implementation steps precisely
- Create/modify files as needed
- Run any tests if specified
- Ensure all changes are complete before finishing

Begin implementation now.