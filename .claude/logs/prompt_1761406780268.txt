You are an expert software engineer. Execute the following requirement immediately. Do not ask questions, do not wait for confirmation. Read the requirement carefully and implement all changes to the codebase as specified.

REQUIREMENT TO EXECUTE NOW:

# add-state-machine-error-handling

## Description

Implement comprehensive error handling within the loading state machine that captures error context, supports error recovery actions, and provides user-friendly error messages. Each error state should include error type, message, and optional recovery action (retry, dismiss, navigate). This prevents silent failures and gives users clear feedback on what went wrong.

## Implementation Steps

1. Extend LoadingState type in src/lib/hooks/useLoadingStateMachine.ts to include error metadata: { type: 'error'; errorType: 'NETWORK' | 'VALIDATION' | 'SERVER' | 'UNKNOWN'; message: string; recoveryAction?: () => void; timestamp: number }
2. Add error action handlers to the reducer: { type: 'SET_NETWORK_ERROR'; payload: string }, { type: 'SET_VALIDATION_ERROR'; payload: string }, { type: 'SET_SERVER_ERROR'; payload: string }
3. In src/app/match/page.tsx, wrap API calls (from src/lib/api/item-groups.ts) in try-catch blocks that categorize errors and dispatch appropriate error actions based on error type (network timeout, 4xx validation, 5xx server)
4. Create an error boundary component src/app/features/match/components/LoadingErrorBoundary.tsx that displays error UI based on error type, with retry button dispatching RESET action to allow state recovery
5. Add error recovery logic: if error.recoveryAction exists, provide a 'Retry' button that calls the recovery action and transitions back to appropriate LOADING state
6. Test error scenarios: simulate network failures, API validation errors (400), server errors (500) to verify correct error state transitions and recovery flows

## Files to Modify

- src/lib/hooks/useLoadingStateMachine.ts
- src/app/match/page.tsx
- src/app/features/match/components/LoadingErrorBoundary.tsx

## UI/UX Innovation Experiment

Design an elegant error toast/banner that slides in from the top with the error type icon, message, and context-aware recovery actions (Retry, Dismiss, Learn More). Use color coding (red for errors, yellow for warnings) and include a subtle animation showing the error type (network icon animates, server icon pulses)

## Recommended Next Goal

Implement error telemetry/logging to track which error states are most common in production, then use that data to prioritize UX improvements for the most frequent failure scenarios



IMPORTANT INSTRUCTIONS:
- Analyze the requirement thoroughly
- Identify all files that need to be modified or created
- Implement all changes specified in the requirement
- Follow the implementation steps precisely
- Create/modify files as needed
- Run any tests if specified
- Ensure all changes are complete before finishing

Begin implementation now.