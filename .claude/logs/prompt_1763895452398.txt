You are an expert software engineer. Execute the following requirement immediately. Do not ask questions, do not wait for confirmation. Read the requirement carefully and implement all changes to the codebase as specified.

REQUIREMENT TO EXECUTE NOW:

# Progressive Image Loader with Wiki Fallback

## Metadata
- **Category**: ui
- **Effort**: High (3/3)
- **Impact**: High (3/3)
- **Scan Type**: ui_perfectionist
- **Generated**: 11/23/2025, 11:27:06 AM

## Description
Wrap SimpleCollectionItem images in a lazy-loading component that shows a low-res blurred placeholder while the high-res image loads. If the image_url is missing, trigger an on-demand fetch from the wiki API and cache the result in Zustand. Use a subtle fade-in and CSS clip-path to keep the grid layout stable. Add ARIA labels for image descriptions.

## Reasoning
Users immediately see content, reducing perceived wait times, and missing images no longer break the layout. The progressive loading preserves bandwidth and improves performance on mobile. Caching wiki images reduces server load and provides a consistent visual experience.

## Context

**Note**: This section provides supporting architectural documentation and is NOT a hard requirement. Use it as guidance to understand existing code structure and maintain consistency.

### Context: Collection & Backlog

**Description**: ## Overview
The Collection & Backlog system provides the source inventory of items that users can drag into their ranked lists. It manages the floating "Glass Dock" panel, backlog item display, drop zones, tutorial mode, and the simplified match grid interface. This system bridges the backlog-store with the UI, offering a premium, categorized view of available items with filtering and search capabilities.

## Key Capabilities
- Glass Dock Panel: Premium floating dock UI with backdrop blur, glassmorphism design, and smooth animations for showing/hiding
- Category Management: Sidebar navigation with category tabs, item counts, and "All Items" view for filtering backlog groups
- Item Grid Display: Responsive grid layout (6-10 columns) showing backlog items as draggable SimpleCollectionItem components
- Drop Zone System: Drag-and-drop target zones integrated with @dnd-kit for seamless item assignment
- Tutorial Mode: Interactive tutorial grid for onboarding new users to the match system
- Simplified Match Interface: Alternative SimpleMatchGrid implementation for streamlined ranking workflow

## Architecture

### Component Breakdown
| Component/File | Purpose | Layer |
|----------------|---------|-------|
| "src/app/features/Match/sub_MatchCollections/SimpleCollectionPanel.tsx" | Main floating dock panel with category sidebar and item grid | UI |
| "src/app/features/Match/sub_MatchCollections/SimpleDropZone.tsx" | Drop zone component for receiving dragged items | UI |
| "src/app/features/Match/sub_MatchCollections/SimpleMatchGrid.tsx" | Simplified match grid implementation | UI |
| "src/app/features/Match/sub_MatchCollections/MatchGridTutorial.tsx" | Tutorial overlay for first-time users | UI |

### Data Flow
1. BacklogProvider initializes backlog-store with category data
2. SimpleCollectionPanel subscribes to backlog-store.groups
3. User selects category tab (or "All Items")
4. Panel filters and displays matching items in responsive grid
5. User drags SimpleCollectionItem from panel
6. SimpleDropZone or MatchGrid receives drop via @dnd-kit
7. item-store.assignItemToGrid updates grid state
8. Panel remains open for additional item selection
9. Tutorial mode guides users through first match session

### Key Dependencies
- External: framer-motion (animations), lucide-react (icons), @dnd-kit/core (drag source)
- Internal: backlog-store (groups, items), item-store (grid assignment), Collection feature (SimpleCollectionItem, CollectionGroup types)

## Technical Details

### State Management
Local component state for UI (isVisible, activeTab, selectedGroupIds) combined with Zustand stores for data:
- backlog-store: groups (CollectionGroup[]), selectedItemId
- item-store: assignItemToGrid action

Panel visibility and tab selection are ephemeral UI state, while backlog data comes from global store.

### API Endpoints
- GET /api/top/groups: Fetches backlog groups by category (called by BacklogProvider)
- Note: This context consumes API data but doesn't directly call endpoints

### Database Tables
- top_groups: Backlog group metadata (id, name, category)
- top_items: Backlog items (id, title, description, image_url, group_id)
- Note: This context displays data fetched by BacklogProvider, doesn't query directly
**Related Files**:
- `src/app/features/Match/sub_MatchCollections/SimpleCollectionPanel.tsx`
- `src/app/features/Match/sub_MatchCollections/SimpleDropZone.tsx`
- `src/app/features/Match/sub_MatchCollections/SimpleMatchGrid.tsx`
- `src/app/features/Match/sub_MatchCollections/MatchGridTutorial.tsx`

**Post-Implementation**: After completing this requirement, evaluate if the context description or file paths need updates. Use the appropriate API/DB query to update the context if architectural changes were made.

## Recommended Skills

- **compact-ui-design**: Use `.claude/skills/compact-ui-design.md` for high-quality UI design references and patterns

## Notes

This requirement was created to fulfill a goal: **Collection item images**

**Goal Description**: Many collection items do not have any image
- Automatic fetching of wiki image in case no image is shown

IMPORTANT INSTRUCTIONS:
- Analyze the requirement thoroughly
- Identify all files that need to be modified or created
- Implement all changes specified in the requirement
- Follow the implementation steps precisely
- Create/modify files as needed
- Run any tests if specified
- Ensure all changes are complete before finishing

## File Structure Guidelines (Next.js/React Projects)

When creating new files in Next.js/React projects, follow this structure:

**Feature-Specific Files** (use `app/features/<feature>` structure):
- `app/features/<feature>/components/` - Feature-specific components and UI sections
- `app/features/<feature>/lib/` - Feature-specific functions, utilities, and logical helpers
- `app/features/<feature>/` - Main wrapper, index, or page file for the feature

**Reusable UI Components** (use `app/components/ui` structure):
- `app/components/ui/` - Shared, reusable UI elements used across multiple features

**Theming and Styling**:
- Before creating new UI components, examine existing components in the project
- Match the color scheme, spacing, and visual patterns of existing components
- Use consistent className patterns (Tailwind CSS classes)
- Follow the app's design language (glassmorphism, gradients, shadows, etc.)
- Pay attention to dark mode support if the app uses it

Examples:
- Feature component: `app/features/tasks/components/TaskCard.tsx`
- Feature helper: `app/features/tasks/lib/taskValidation.ts`
- Reusable UI: `app/components/ui/Button.tsx`

## Test Coverage Preparation

**IMPORTANT**: For all interactive UI components (buttons, inputs, forms, modals, etc.), add `data-testid` attributes to enable automated testing.

**Guidelines**:
- Add `data-testid` to all clickable elements (buttons, links, icons)
- Use descriptive, kebab-case naming: `data-testid="submit-form-btn"`
- Include component context in the ID: `data-testid="goal-delete-btn"`, `data-testid="project-settings-modal"`
- Add to form inputs: `data-testid="email-input"`, `data-testid="password-input"`
- Add to list items for testing selection: `data-testid="task-item-123"`

**Examples**:
```tsx
<button onClick={handleSubmit} data-testid="create-goal-btn">
  Create Goal
</button>

<input
  type="text"
  value={title}
  onChange={handleChange}
  data-testid="goal-title-input"
/>

<div className="modal" data-testid="delete-confirmation-modal">
  ...
</div>
```

## Implementation Logging

**CRITICAL**: After completing the implementation, create a log entry using the implementation-log repository to track what was implemented.

Project ID: `4ee93a8c-9318-4497-b7cf-05027e48f12b`


**Use the Implementation Log Repository** (located at `src/app/db/repositories/implementation-log.repository.ts`):

```typescript
import { implementationLogRepository } from '@/app/db/repositories/implementation-log.repository';
import { v4 as uuidv4 } from 'uuid';

// Create log entry
implementationLogRepository.createLog({
  id: uuidv4(),
  project_id: '4ee93a8c-9318-4497-b7cf-05027e48f12b',
  requirement_name: '<requirement-name>',
  title: '<short-descriptive-title>',
  overview: '<detailed-overview-of-changes>',
  overview_bullets: '<bullet1>\n<bullet2>\n<bullet3>\n<bullet4>',
  tested: false
});
```

**Log Entry Guidelines**:
- `id`: Generate a unique UUID using `uuidv4()` or `crypto.randomUUID()`
- `project_id`: The project identifier (use: "4ee93a8c-9318-4497-b7cf-05027e48f12b")
- `requirement_name`: Name of the requirement file being executed (without .md extension)
- `title`: Short, descriptive title (2-6 words, e.g., "Add User Authentication")
- `overview`: Detailed paragraph describing:
  - What was implemented
  - Key files created or modified
  - Major functionality added
  - Any important patterns or decisions made
- `overview_bullets`: **REQUIRED** - Newline-separated bullet points (3-5 bullet points) summarizing key changes. Format as plain text with each bullet on a new line:
  - First bullet point describing main change
  - Second bullet point describing another key change
  - Third bullet point describing implementation detail
  - (Optional) Fourth bullet point for additional context
  Example: "Implemented OAuth 2.0 with PKCE flow\nAdded session management with refresh tokens\nCreated unified auth context provider\nMigrated from cookies to secure HTTP-only tokens"
- `tested`: Always set to false initially

**Example Log Entry**:

```typescript
import { implementationLogRepository } from '@/app/db/repositories/implementation-log.repository';
import { v4 as uuidv4 } from 'uuid';

implementationLogRepository.createLog({
  id: uuidv4(),
  project_id: 'project-abc-123',
  requirement_name: 'implement-user-login',
  title: 'User Login System',
  overview: 'Implemented complete user authentication system with login form, JWT token management, and session persistence. Created LoginForm.tsx component, authService.ts for API calls, and useAuth hook for state management. Added protected route wrapper and login/logout functionality. Integrated with existing theme using glassmorphism design.',
  overview_bullets: 'Implemented OAuth 2.0 with PKCE flow
Added session management with refresh tokens
Created unified auth context provider
Integrated with existing glassmorphism theme',
  tested: false
});
```

**IMPORTANT**: Do NOT create standalone script files for logging. Use the repository directly in your implementation or create a simple inline script that imports and uses the repository




## Final Checklist

Before finishing:
- [ ] All code changes implemented
- [ ] Test IDs added to interactive components
- [ ] File structure follows guidelines
- [ ] UI components match existing theme
- [ ] Implementation log entry created in database
- [ ] Tests run successfully (if specified)

Begin implementation now.