# ========================================
# GOAT Project - Environment Configuration
# ========================================

# ----------------------------------------
# Supabase Configuration (Primary)
# ----------------------------------------
# Supabase is the primary backend for data persistence, authentication, and real-time features
# Get these values from: https://app.supabase.com/project/_/settings/api

# Public Supabase URL - safe to expose in client-side code
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co

# Public Anon Key - safe to expose in client-side code
# This key has Row Level Security (RLS) policies applied
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Service Role Key - NEVER expose in client-side code
# Only use in server-side API routes and server components
# This key bypasses Row Level Security - use with extreme caution
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# ----------------------------------------
# Legacy HTTP API Configuration (Deprecated)
# ----------------------------------------
# DEPRECATION NOTICE: The HTTP API is being phased out in favor of Supabase
# This will be removed in a future version. Please migrate to Supabase.
# API_URL=http://localhost:8000

# ----------------------------------------
# Migration Guide: HTTP API â†’ Supabase
# ----------------------------------------
# We're transitioning from a custom HTTP API to Supabase for:
# 1. Built-in authentication and authorization
# 2. Real-time subscriptions for collaborative features
# 3. Built-in file storage for user uploads
# 4. Row Level Security for data protection
# 5. Automatic API generation from database schema
# 6. Better TypeScript support with generated types
#
# Migration steps:
# 1. Set up Supabase project: https://app.supabase.com
# 2. Configure environment variables above
# 3. Update components to use new hooks from src/hooks/:
#    - useSupabaseQuery() instead of useQuery() with HTTP client
#    - useSupabaseMutation() instead of useMutation() with HTTP client
#    - useSupabaseAuth() for authentication
# 4. Test all features to ensure data flows correctly
# 5. Remove API_URL after complete migration

# ----------------------------------------
# Authentication Providers (Optional)
# ----------------------------------------
# Configure OAuth providers in Supabase dashboard:
# https://app.supabase.com/project/_/auth/providers

# Google OAuth
# NEXT_PUBLIC_GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
# NEXT_PUBLIC_GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret

# ----------------------------------------
# Clerk Authentication (Legacy)
# ----------------------------------------
# DEPRECATION NOTICE: Clerk is being replaced by Supabase Auth
# Remove these after migrating to Supabase Auth
# NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your-clerk-publishable-key
# CLERK_SECRET_KEY=your-clerk-secret-key
# CLERK_WEBHOOK_SECRET=your-clerk-webhook-secret

# ----------------------------------------
# Next.js Configuration
# ----------------------------------------
# Base URL for the application
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Node environment (development, production, test)
NODE_ENV=development

# ----------------------------------------
# Feature Flags (Optional)
# ----------------------------------------
# Enable/disable features during migration
NEXT_PUBLIC_ENABLE_SUPABASE=true
NEXT_PUBLIC_ENABLE_LEGACY_API=false

# ----------------------------------------
# Analytics & Monitoring (Optional)
# ----------------------------------------
# Add your analytics service keys here
# NEXT_PUBLIC_GA_TRACKING_ID=
# NEXT_PUBLIC_SENTRY_DSN=

# ----------------------------------------
# File Storage Configuration
# ----------------------------------------
# Supabase Storage bucket names
NEXT_PUBLIC_STORAGE_BUCKET_IMAGES=list-images
NEXT_PUBLIC_STORAGE_BUCKET_AVATARS=user-avatars

# ----------------------------------------
# Rate Limiting (Optional)
# ----------------------------------------
# Configure rate limiting for API routes
# RATE_LIMIT_MAX_REQUESTS=100
# RATE_LIMIT_WINDOW_MS=900000

# ----------------------------------------
# Database Configuration (For Reference)
# ----------------------------------------
# Supabase provides these automatically, but documented here for reference
# Direct database connection is available at:
# postgres://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:5432/postgres
#
# Connection pooler (recommended for serverless):
# postgres://postgres:[YOUR-PASSWORD]@db.[YOUR-PROJECT-REF].supabase.co:6543/postgres

# ----------------------------------------
# Development Tools
# ----------------------------------------
# Enable React Query Devtools in development
NEXT_PUBLIC_ENABLE_REACT_QUERY_DEVTOOLS=true

# ----------------------------------------
# Email Configuration (Supabase SMTP)
# ----------------------------------------
# Supabase provides default SMTP for auth emails
# Configure custom SMTP in Supabase dashboard if needed:
# https://app.supabase.com/project/_/auth/templates

# ----------------------------------------
# IMPORTANT SECURITY NOTES
# ----------------------------------------
# 1. NEVER commit .env files to version control
# 2. NEVER expose SUPABASE_SERVICE_ROLE_KEY in client-side code
# 3. Always use NEXT_PUBLIC_ prefix for client-exposed variables
# 4. Rotate keys if accidentally exposed
# 5. Use Row Level Security (RLS) policies in Supabase
# 6. Enable 2FA on your Supabase account

# ----------------------------------------
# Getting Started
# ----------------------------------------
# 1. Copy this file to .env.local:
#    cp .env.example .env.local
#
# 2. Fill in your Supabase credentials from:
#    https://app.supabase.com/project/_/settings/api
#
# 3. Update any other values specific to your environment
#
# 4. Restart your development server:
#    npm run dev
